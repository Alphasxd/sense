# 运费清单计算和测试程序

## 项目结构

```
go.mod
go.sum
main.go
db/
  database.go
models/
  order.go
services/
  shipping.go
  data.go
utils/
  weight.go
```
## 项目编译

```bash
go build -o ship .
```

## 项目运行

```bash
./ship -generate
./ship -query <user-id>
```

## 问题描述

某快递公司在A和B城市之间的快递费用规则如下：

```
1. 快递费用按计费重量 W 计算，计费重量以 KG 为单位，实际重量不满 1KG 的部分记为 1KG
2. 1KG（含）以内 18 元，包含运费和保险费
3. 每增加 1KG，运费增加 5 元，保险费为上一档费用（运费+保险费）的 1%
4. 每档快递费用计算结果按照四舍五入取整数值
5. 最大计费重量为 100KG
```

问题1. 请使用 go 语言实现以上快递费用的计算函数。
问题2. 为上述计算函数生成对应的测试代码和测试订单数据，要求如下：
    
1. 使用SQLite数据库存储订单数据
    订单数据至少包含以下内容：
    |名称|类型|说明|
    |----|----|----|
    |id|INTEGER INTEGER|订单 id|
    |uid|用户 id|用户 id|
    |weight|DOUBLE|重量(KG)|
    |created_at|DATETIME|创建时间|

2. 生成1000个用户id
3. 生成100000条订单记录并插入到数据库中，规则如下：
    1) id 不允许重复
    2) uid 从第2步生成的用户id中随机选择
    3) weight 随机生成，但要保证：在所有订单中，计费重量的分布权重大致为 1/W，例如 2KG 订单的数量与 8KG 订单的数量比约为 (1/2):(1/8) = 4:1
    4) 请用注释描述清楚所使用的权重算法原理
4. 程序提供查询功能，在命令行输入任意 1 个用户 id，则显示此用户所有订单，并计算出此用户的总费用